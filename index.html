<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Character Pixel Generator</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.7.1/nouislider.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.7.1/nouislider.min.js"></script>
</head>

<body>
    <div class="container">
        <aside class="controls">
            <h2>Character Generator</h2>

            <div class="section">
                <h3>Canvas</h3>
                <div class="control-group">
                    <label>Grid Size: <span id="canvasSizeValue">50</span></label>
                    <input type="range" id="canvasSize" min="20" max="70" value="50" step="10">
                </div>
            </div>

            <div class="section">
                <h3>Rendering</h3>
                <div class="control-group slider-group" data-param="fillDensity">
                    <div class="slider-header">
                        <label>Fill Density</label>
                        <span class="slider-values" id="fillDensityDisplay">0.70 - 0.90</span>
                    </div>
                    <div id="slider-fillDensity" class="custom-slider"></div>
                </div>
                <div class="control-group">
                    <label>
                        <input type="checkbox" id="enableSmoothing" checked> Enable Smoothing
                    </label>
                </div>
                <div class="control-group">
                    <label>
                        <input type="checkbox" id="showOutline" checked> Show Outline
                    </label>
                </div>

            </div>

            <details class="section advanced-settings">
                <summary>Advanced: Body Proportions</summary>
                <div class="control-group slider-group" data-param="torsoTopWidth">
                    <div class="slider-header">
                        <label>Torso Width (Top)</label>
                        <span class="slider-values" id="torsoTopWidthDisplay">20 - 28%</span>
                    </div>
                    <div id="slider-torsoTopWidth" class="custom-slider"></div>
                </div>
                <div class="control-group slider-group" data-param="torsoBottomWidth">
                    <div class="slider-header">
                        <label>Torso Width (Bottom)</label>
                        <span class="slider-values" id="torsoBottomWidthDisplay">16 - 24%</span>
                    </div>
                    <div id="slider-torsoBottomWidth" class="custom-slider"></div>
                </div>
                <div class="control-group slider-group" data-param="torsoHeight">
                    <div class="slider-header">
                        <label>Torso Height</label>
                        <span class="slider-values" id="torsoHeightDisplay">26 - 34%</span>
                    </div>
                    <div id="slider-torsoHeight" class="custom-slider"></div>
                </div>
                <div class="control-group slider-group" data-param="headWidth">
                    <div class="slider-header">
                        <label>Head Size</label>
                        <span class="slider-values" id="headWidthDisplay">14 - 22%</span>
                    </div>
                    <div id="slider-headWidth" class="custom-slider"></div>
                </div>
                <div class="control-group slider-group" data-param="neckWidth">
                    <div class="slider-header">
                        <label>Neck Width</label>
                        <span class="slider-values" id="neckWidthDisplay">5 - 8%</span>
                    </div>
                    <div id="slider-neckWidth" class="custom-slider"></div>
                </div>
                <div class="control-group slider-group" data-param="neckHeight">
                    <div class="slider-header">
                        <label>Neck Height</label>
                        <span class="slider-values" id="neckHeightDisplay">5 - 9%</span>
                    </div>
                    <div id="slider-neckHeight" class="custom-slider"></div>
                </div>
            </details>

            <details class="section advanced-settings">
                <summary>Advanced: Limbs &amp; Angles</summary>
                <div class="control-group slider-group" data-param="upperArmTopWidth">
                    <div class="slider-header">
                        <label>Upper Arm Width</label>
                        <span class="slider-values" id="upperArmTopWidthDisplay">6 - 10%</span>
                    </div>
                    <div id="slider-upperArmTopWidth" class="custom-slider"></div>
                </div>
                <div class="control-group slider-group" data-param="forearmTopWidth">
                    <div class="slider-header">
                        <label>Forearm Width</label>
                        <span class="slider-values" id="forearmTopWidthDisplay">4 - 8%</span>
                    </div>
                    <div id="slider-forearmTopWidth" class="custom-slider"></div>
                </div>
                <div class="control-group slider-group" data-param="upperArmLength">
                    <div class="slider-header">
                        <label>Arm Length</label>
                        <span class="slider-values" id="upperArmLengthDisplay">18 - 26%</span>
                    </div>
                    <div id="slider-upperArmLength" class="custom-slider"></div>
                </div>
                <div class="control-group slider-group" data-param="armAngle">
                    <div class="slider-header">
                        <label>Arm Angle</label>
                        <span class="slider-values" id="armAngleDisplay">-60 to -30°</span>
                    </div>
                    <div id="slider-armAngle" class="custom-slider"></div>
                </div>
                <div class="control-group slider-group" data-param="elbowAngle">
                    <div class="slider-header">
                        <label>Elbow Angle</label>
                        <span class="slider-values" id="elbowAngleDisplay">-20 to 20°</span>
                    </div>
                    <div id="slider-elbowAngle" class="custom-slider"></div>
                </div>
                <div class="control-group slider-group" data-param="thighTopWidth">
                    <div class="slider-header">
                        <label>Thigh Width</label>
                        <span class="slider-values" id="thighTopWidthDisplay">8 - 12%</span>
                    </div>
                    <div id="slider-thighTopWidth" class="custom-slider"></div>
                </div>
                <div class="control-group slider-group" data-param="shinTopWidth">
                    <div class="slider-header">
                        <label>Shin Width</label>
                        <span class="slider-values" id="shinTopWidthDisplay">6 - 10%</span>
                    </div>
                    <div id="slider-shinTopWidth" class="custom-slider"></div>
                </div>
                <div class="control-group slider-group" data-param="thighLength">
                    <div class="slider-header">
                        <label>Thigh Length</label>
                        <span class="slider-values" id="thighLengthDisplay">18 - 26%</span>
                    </div>
                    <div id="slider-thighLength" class="custom-slider"></div>
                </div>
                <div class="control-group slider-group" data-param="legAngle">
                    <div class="slider-header">
                        <label>Leg Angle</label>
                        <span class="slider-values" id="legAngleDisplay">-20 to -5°</span>
                    </div>
                    <div id="slider-legAngle" class="custom-slider"></div>
                </div>
            </details>

            <div class="section">
                <h3>Batch Generation</h3>
                <div class="control-group">
                    <label>Body Preset</label>
                    <select id="bodyPreset">
                        <option value="standard">Standard Humanoid</option>
                        <option value="bulky">Bulky / Dwarf</option>
                        <option value="tall">Tall / Elf</option>
                        <option value="monster">Monstrous</option>
                        <option value="max">Max Range (Chaotic)</option>
                    </select>
                </div>

                <div class="button-group">
                    <button id="randomize" class="secondary">Randomize Sliders</button>
                </div>
            </div>

            <div class="section">
                <h3>Display Options</h3>
                <div class="control-group">
                    <label>
                        <input type="checkbox" id="showStickFigure"> Connection Points
                    </label>
                </div>
                <div class="control-group">
                    <label>
                        <input type="checkbox" id="showThickness"> Show Shapes
                    </label>
                </div>
                <div class="control-group">
                    <label>
                        <input type="checkbox" id="showHeatmap"> Show Heatmap
                    </label>
                </div>
                <div class="control-group">
                    <label>
                        <input type="checkbox" id="showFinal" checked> Show Final
                    </label>
                </div>
                <div class="control-group">
                    <label>
                        <input type="checkbox" id="showGrid"> Show Grid
                    </label>
                </div>
            </div>

            <div class="section">
                <h3>Actions</h3>
                <button type="button" id="generateOne" class="btn-primary">Generate 1</button>
                <button type="button" id="generateTen" class="btn-secondary">Generate 10</button>
                <button type="button" id="generateHundred" class="btn-secondary">Generate 100</button>
                <button type="button" id="randomize" class="btn-accent">Randomize Params</button>
                <button type="button" id="exportSpritesheet" class="btn-export">Export Spritesheet</button>
                <button type="button" id="exportZip" class="btn-export">Export ZIP</button>
            </div>
        </aside>

        <main class="canvas-area">
            <h1>Character Pixel Generator</h1>
            <div id="canvasGrid" class="canvas-grid"></div>
        </main>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script type="module" src="js/main.js"></script>
</body>

</html>